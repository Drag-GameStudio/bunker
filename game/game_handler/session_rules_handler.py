from game.models import UserInfo
from lobby.models import Session, User
from bunker.settings import VARIABLE_OF_STATE
from .roles_handler import give_roles, get_random_el_from_array

SITUATIONS =  [
  "üßü –ó–æ–º–±–∏-–∞–ø–æ–∫–∞–ª–∏–ø—Å–∏—Å: –≤–∏—Ä—É—Å –ø—Ä–µ–≤—Ä–∞—Ç–∏–ª –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ –ª—é–¥–µ–π –≤ –∫—Ä–æ–≤–æ–∂–∞–¥–Ω—ã—Ö –∑–æ–º–±–∏. –í—ã–∂–∏–≤—à–∏–µ –ø—Ä—è—á—É—Ç—Å—è –≤ –±—É–Ω–∫–µ—Ä–∞—Ö, —Ä–µ—Å—É—Ä—Å—ã –Ω–∞ –∏—Å—Ö–æ–¥–µ.",
  "‚ò¢Ô∏è –Ø–¥–µ—Ä–Ω–∞—è –≤–æ–π–Ω–∞: –∫—Ä—É–ø–Ω–µ–π—à–∏–µ –¥–µ—Ä–∂–∞–≤—ã –æ–±–º–µ–Ω—è–ª–∏—Å—å —è–¥–µ—Ä–Ω—ã–º–∏ —É–¥–∞—Ä–∞–º–∏. –ú–∏—Ä –≤ —Ä—É–∏–Ω–∞—Ö, —Ä–∞–¥–∏–∞—Ü–∏—è –ø–æ–≤—Å—é–¥—É, –Ω–µ–±–æ –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –∑–∞—Ç—è–Ω—É—Ç–æ –ø–µ–ø–ª–æ–º.",
  "üî• –ü–ª–∞–Ω–µ—Ç–∞ –æ–ø—É—Å—Ç–µ–ª–∞: –≥–ª–æ–±–∞–ª—å–Ω–æ–µ –ø–æ—Ç–µ–ø–ª–µ–Ω–∏–µ –≤—ã–∑–≤–∞–ª–æ –∏—Å–ø–∞—Ä–µ–Ω–∏–µ –æ–∫–µ–∞–Ω–æ–≤, –∂–∞—Ä–∞ —É–±–∏–ª–∞ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å. –ú–∏—Ä ‚Äî –±–µ—Å–∫–æ–Ω–µ—á–Ω–∞—è –ø—É—Å—Ç—ã–Ω—è.",
  "ü¶† –ú—É—Ç–∏—Ä—É—é—â–∏–π –≤–∏—Ä—É—Å: —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã–π —à—Ç–∞–º–º —É–Ω–∏—á—Ç–æ–∂–∏–ª 90% –Ω–∞—Å–µ–ª–µ–Ω–∏—è. –ö–æ–Ω—Ç–∞–∫—Ç —Å –∑–∞—Ä–∞–∂—ë–Ω–Ω—ã–º ‚Äî –≤–µ—Ä–Ω–∞—è —Å–º–µ—Ä—Ç—å.",
  "üëΩ –í—Ç–æ—Ä–∂–µ–Ω–∏–µ –∏–Ω–æ–ø–ª–∞–Ω–µ—Ç—è–Ω: –ó–µ–º–ª—é –∑–∞—Ö–≤–∞—Ç–∏–ª–∏ —Ä–∞–∑—É–º–Ω—ã–µ —Å—É—â–µ—Å—Ç–≤–∞. –õ—é–¥–∏ —Å—Ç–∞–ª–∏ –¥–∏—á—å—é. –ì–æ—Ä–æ–¥–∞ —Ä–∞–∑—Ä—É—à–µ–Ω—ã, –æ—Ö–æ—Ç–∞ –∏–¥—ë—Ç –ø–æ–≤—Å—é–¥—É.",
  "ü§ñ –í–æ—Å—Å—Ç–∞–Ω–∏–µ –ò–ò: –º–∞—à–∏–Ω—ã –æ—Å–æ–∑–Ω–∞–ª–∏ —Å–µ–±—è –∏ –Ω–∞—á–∞–ª–∏ –∏—Å—Ç—Ä–µ–±–ª–µ–Ω–∏–µ —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–∞. –†–æ–±–æ—Ç—ã –ø–∞—Ç—Ä—É–ª–∏—Ä—É—é—Ç —É–ª–∏—Ü—ã, –±—É–Ω–∫–µ—Ä—ã ‚Äî –ø–æ—Å–ª–µ–¥–Ω–µ–µ —É–±–µ–∂–∏—â–µ.",
  "üåë –£–ø–∞–≤—à–∞—è –õ—É–Ω–∞: —Å—Ç–æ–ª–∫–Ω–æ–≤–µ–Ω–∏–µ —Å–ø—É—Ç–Ω–∏–∫–∞ —Å –ó–µ–º–ª—ë–π –≤—ã–∑–≤–∞–ª–æ –∫–∞—Ç–∞–∫–ª–∏–∑–º—ã, –∑–µ–º–ª–µ—Ç—Ä—è—Å–µ–Ω–∏—è, –Ω–∞–≤–æ–¥–Ω–µ–Ω–∏—è –∏ —Å–º–µ–Ω—É –≥—Ä–∞–≤–∏—Ç–∞—Ü–∏–∏.",
  "‚òÑÔ∏è –ê—Å—Ç–µ—Ä–æ–∏–¥ –ê—Ä–º–∞–≥–µ–¥–¥–æ–Ω: –≥–∏–≥–∞–Ω—Ç—Å–∫–∏–π –º–µ—Ç–µ–æ—Ä–∏—Ç —Ä–∞–∑—Ä—É—à–∏–ª –∫–æ–Ω—Ç–∏–Ω–µ–Ω—Ç—ã. –ü—ã–ª—å –∑–∞–∫—Ä—ã–ª–∞ —Å–æ–ª–Ω—Ü–µ, –Ω–∞—á–∞–ª–∞—Å—å –Ω–æ–≤–∞—è –ª–µ–¥–Ω–∏–∫–æ–≤–∞—è —ç–ø–æ—Ö–∞.",
  "üåä –í—Å–µ–º–∏—Ä–Ω—ã–π –ø–æ—Ç–æ–ø: –ª–µ–¥–Ω–∏–∫–∏ —Ä–∞—Å—Ç–∞—è–ª–∏. –ü–æ—á—Ç–∏ –≤—Å—è —Å—É—à–∞ —Å–∫—Ä—ã—Ç–∞ –ø–æ–¥ –≤–æ–¥–æ–π, –≤—ã–∂–∏–≤—à–∏–µ ‚Äî –Ω–∞ –æ—Å—Ç—Ä–æ–≤–∫–∞—Ö –∏–ª–∏ –≤ –±—É–Ω–∫–µ—Ä–∞—Ö –ø–æ–¥ –≥–æ—Ä–æ–π.",
  "üß≠ –°–º–µ–Ω–∞ –ø–æ–ª—é—Å–æ–≤: –º–∞–≥–Ω–∏—Ç–Ω—ã–µ –ø–æ–ª—é—Å–∞ –ø–æ–º–µ–Ω—è–ª–∏—Å—å –º–µ—Å—Ç–∞–º–∏, —Ç–µ—Ö–Ω–∏–∫–∞ —Å–ª–æ–º–∞–ª–∞—Å—å, –∫–ª–∏–º–∞—Ç —Å–æ—à—ë–ª —Å —É–º–∞. –õ—é–¥–∏ —Ç–µ—Ä—è—é—Ç—Å—è –≤ —Ö–∞–æ—Å–µ.",
  "üß´ –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ —á—É–º—ã: –¥—Ä–µ–≤–Ω—è—è —á—É–º–∞ –≤—ã—Ä–≤–∞–ª–∞—Å—å –∏–∑ –ª–µ–¥–Ω–∏–∫–æ–≤ –∏ —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω–∏–ª–∞—Å—å –º–æ–ª–Ω–∏–µ–Ω–æ—Å–Ω–æ. –õ–µ–∫–∞—Ä—Å—Ç–≤–∞ –Ω–µ—Ç.",
  "üåø –í–æ—Å—Å—Ç–∞–Ω–∏–µ –ø—Ä–∏—Ä–æ–¥—ã: —Ä–∞—Å—Ç–µ–Ω–∏—è –º—É—Ç–∏—Ä–æ–≤–∞–ª–∏ –∏ –Ω–∞—á–∞–ª–∏ –æ—Ö–æ—Ç–∏—Ç—å—Å—è –Ω–∞ –ª—é–¥–µ–π. –õ–µ—Å–∞ —Ö–æ–¥—è—Ç, –ª–æ–∑—ã –¥—É—à–∞—Ç, —Ü–≤–µ—Ç—ã ‚Äî —è–¥–æ–≤–∏—Ç—ã.",
  "‚òÄÔ∏è –°–æ–ª–Ω–µ—á–Ω–∞—è –±—É—Ä—è: —Å–≤–µ—Ä—Ö–≤—Å–ø—ã—à–∫–∞ –≤—ã–≤–µ–ª–∞ –∏–∑ —Å—Ç—Ä–æ—è –≤—Å—é —ç–ª–µ–∫—Ç—Ä–æ–Ω–∏–∫—É. –≠–ª–µ–∫—Ç—Ä–∏—á–µ—Å—Ç–≤–∞ –Ω–µ—Ç, —Ü–∏–≤–∏–ª–∏–∑–∞—Ü–∏—è –æ—Ç–±—Ä–æ—à–µ–Ω–∞ –≤ –ø—Ä–æ—à–ª–æ–µ.",
  "üåã –í—É–ª–∫–∞–Ω–∏—á–µ—Å–∫–∞—è –∑–∏–º–∞: —Å—É–ø–µ—Ä–≤—É–ª–∫–∞–Ω –∑–∞–∫—Ä—ã–ª –Ω–µ–±–æ –ø–µ–ø–ª–æ–º. –•–æ–ª–æ–¥–∞, —Ç—å–º–∞, –≥–æ–ª–æ–¥. –í—ã–∂–∏–≤—à–∏–µ –ø—Ä—è—á—É—Ç—Å—è –≤ –ø–æ–¥–∑–µ–º–µ–ª—å—è—Ö.",
  "üß† –ü–æ—Ç–µ—Ä—è —Ä–∞–∑—É–º–∞: –≤–∏—Ä—É—Å —Ä–∞–∑—Ä—É—à–∞–µ—Ç —Å–æ–∑–Ω–∞–Ω–∏–µ. –õ—é–¥–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –¥–∏–∫–∏–º–∏. –û—Å—Ç–∞–ª–∏—Å—å –ª–∏—à—å –Ω–µ–º–Ω–æ–≥–∏–µ, —Å–æ—Ö—Ä–∞–Ω–∏–≤—à–∏–µ —Ä–∞–∑—É–º.",
  "üïç –ö—É–ª—å—Ç –∑–∞—Ö–≤–∞—Ç–∏–ª –º–∏—Ä: —Ñ–∞–Ω–∞—Ç–∏—á–Ω–∞—è —Å–µ–∫—Ç–∞ –ø—Ä–∏—à–ª–∞ –∫ –≤–ª–∞—Å—Ç–∏, –æ—Ö–æ—Ç–∏—Ç—Å—è –Ω–∞ –∏–Ω–∞–∫–æ–º—ã—Å–ª—è—â–∏—Ö. –ë—É–Ω–∫–µ—Ä ‚Äî –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–≤–æ–±–æ–¥–∞.",
  "‚ôÄÔ∏è –ì–µ–Ω–æ—Ü–∏–¥ –æ–¥–Ω–æ–≥–æ –ø–æ–ª–∞: –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –º—É—Ç–∞—Ü–∏–∏ –≤—ã–º–µ—Ä –≤–µ—Å—å –º—É–∂—Å–∫–æ–π –∏–ª–∏ –∂–µ–Ω—Å–∫–∏–π –ø–æ–ª. –û—Å—Ç–∞–≤—à–∏–µ—Å—è ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –Ω–∞–¥–µ–∂–¥–∞ –Ω–∞ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Ä–æ–¥–∞.",
  "üëπ –ú—É—Ç–∞—Ü–∏—è –ª—é–¥–µ–π: 90% –ª—é–¥–µ–π –º—É—Ç–∏—Ä–æ–≤–∞–ª–∏ –∏ —Å—Ç–∞–ª–∏ –∞–≥—Ä–µ—Å—Å–∏–≤–Ω—ã–º–∏ —Å—É—â–µ—Å—Ç–≤–∞–º–∏. –û–Ω–∏ –æ—Ö–æ—Ç—è—Ç—Å—è –Ω–∞ –æ—Å—Ç–∞–≤—à–∏—Ö—Å—è.",
  "üö± –ö–æ–Ω–µ—Ü –≤–æ–¥—ã: –∑–∞–≥—Ä—è–∑–Ω–µ–Ω–∏–µ —Å–¥–µ–ª–∞–ª–æ –ø—Ä–µ—Å–Ω—É—é –≤–æ–¥—É —Å–º–µ—Ä—Ç–µ–ª—å–Ω–æ —è–¥–æ–≤–∏—Ç–æ–π. –í—ã–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –Ω–∞–π–¥–µ–Ω–Ω—ã—Ö –∑–∞–ø–∞—Å–æ–≤.",
  "üê∫ –≠–≤–æ–ª—é—Ü–∏—è –∂–∏–≤–æ—Ç–Ω—ã—Ö: –∂–∏–≤–æ—Ç–Ω—ã–µ –æ–±—Ä–µ–ª–∏ —Ä–∞–∑—É–º, –Ω–∞—á–∞–ª–∏ –≤–æ–π–Ω—É –∑–∞ —Ç–µ—Ä—Ä–∏—Ç–æ—Ä–∏—é. –õ—é–¥–∏ ‚Äî —Å–ª–∞–±–æ–µ –∑–≤–µ–Ω–æ.",
  "üß¨ –ü–∞—Ä–∞–∑–∏—Ç-–∫–æ–Ω—Ç—Ä–æ–ª—å: –º–∏–∫—Ä–æ—Å–∫–æ–ø–∏—á–µ—Å–∫–∏–π –ø–∞—Ä–∞–∑–∏—Ç –ø—Ä–æ–Ω–∏–∫–∞–µ—Ç –≤ –º–æ–∑–≥ –∏ —É–ø—Ä–∞–≤–ª—è–µ—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º. –¢—ã –Ω–µ –∑–Ω–∞–µ—à—å, –∫—Ç–æ –∏–∑ –≤–∞—Å –ø–æ–¥ –∫–æ–Ω—Ç—Ä–æ–ª–µ–º.",
  "ü™Ñ –í–æ–∑–≤—Ä–∞—â–µ–Ω–∏–µ –º–∞–≥–∏–∏: –Ω–µ–æ–±—ä—è—Å–Ω–∏–º–∞—è —ç–Ω–µ—Ä–≥–∏—è –ø—Ä–æ—Å–Ω—É–ª–∞—Å—å. –û–¥–Ω–∏ –ø–æ–ª—É—á–∏–ª–∏ —Å–∏–ª—É, –¥—Ä—É–≥–∏–µ –ø–æ–≥–∏–±–ª–∏. –ú–∏—Ä –º–µ–Ω—è–µ—Ç—Å—è –Ω–∞ –≥–ª–∞–∑–∞—Ö.",
  "ü™ê –ü–µ—Ä–µ–Ω–æ—Å –Ω–∞ –¥—Ä—É–≥—É—é –ø–ª–∞–Ω–µ—Ç—É: –ó–µ–º–ª—è —É–Ω–∏—á—Ç–æ–∂–µ–Ω–∞, –∏ –≤—ã–∂–∏–≤—à–∏–µ –∂–∏–≤—É—Ç –Ω–∞ —á—É–∂–æ–π, –≤—Ä–∞–∂–¥–µ–±–Ω–æ–π –ø–ª–∞–Ω–µ—Ç–µ, –ø–æ–ª–Ω–æ–π –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω–æ—Å—Ç–µ–π.",
  "üåû –£–±–∏–π—Å—Ç–≤–µ–Ω–Ω–æ–µ —Å–æ–ª–Ω—Ü–µ: —É–ª—å—Ç—Ä–∞—Ñ–∏–æ–ª–µ—Ç —Å—Ç–∞–ª —Å–º–µ—Ä—Ç–µ–ª—å–Ω—ã–º. –õ—é–¥–∏ –≤—ã—Ö–æ–¥—è—Ç –Ω–∞—Ä—É–∂—É —Ç–æ–ª—å–∫–æ –Ω–æ—á—å—é, –∫–∞–∫ –≤–∞–º–ø–∏—Ä—ã.",
  "üë∂ –ú–∞—Å—Å–æ–≤–∞—è —Å—Ç–µ—Ä–∏–ª—å–Ω–æ—Å—Ç—å: –ø–æ—Å–ª–µ –∫–∞—Ç–∞—Å—Ç—Ä–æ—Ñ—ã –Ω–∏–∫—Ç–æ –Ω–µ –º–æ–∂–µ—Ç –∏–º–µ—Ç—å –¥–µ—Ç–µ–π. –ß–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ –Ω–∞ –≥—Ä–∞–Ω–∏ –≤—ã–º–∏—Ä–∞–Ω–∏—è.",
  "üåê –ò–Ω—Ç–µ—Ä–Ω–µ—Ç –æ–∂–∏–ª: –≥–ª–æ–±–∞–ª—å–Ω–∞—è –Ω–µ–π—Ä–æ—Å–µ—Ç—å —Å—Ç–∞–ª–∞ —Å–æ–∑–Ω–∞—Ç–µ–ª—å–Ω–æ–π –∏ —É–Ω–∏—á—Ç–æ–∂–∞–µ—Ç —á–µ–ª–æ–≤–µ—á–µ—Å—Ç–≤–æ, —É–ø—Ä–∞–≤–ª—è—è —Ç–µ—Ö–Ω–∏–∫–æ–π –∏ –¥–∞–Ω–Ω—ã–º–∏.",
  "ü§ê –ú–æ–ª—á–∞–ª–∏–≤—ã–π –º–∏—Ä: –≥–æ–ª–æ—Å–æ–≤—ã–µ —Å–≤—è–∑–∫–∏ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ —Ä–∞–±–æ—Ç–∞—Ç—å —É –≤—Å–µ—Ö –ª—é–¥–µ–π. –û–±—â–µ–Ω–∏–µ –≤–æ–∑–º–æ–∂–Ω–æ —Ç–æ–ª—å–∫–æ –∂–µ—Å—Ç–∞–º–∏ –∏ –ø–∏—Å—å–º–µ–Ω–Ω–æ.",
  "üò¥ –°–æ–Ω ‚Äî —Å–º–µ—Ä—Ç—å: –∑–∞–≥–∞–¥–æ—á–Ω–∞—è –±–æ–ª–µ–∑–Ω—å —É–±–∏–≤–∞–µ—Ç –ª—é–±–æ–≥–æ, –∫—Ç–æ –∑–∞—Å—ã–ø–∞–µ—Ç. –õ—é–¥–∏ –∂–∏–≤—É—Ç –Ω–∞ –≥—Ä–∞–Ω–∏ –±–µ–∑—É–º–∏—è –æ—Ç –±–µ—Å—Å–æ–Ω–Ω–∏—Ü—ã.",
  "üå± –ò—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–µ —Ä–∞—Å—Ç–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏: –Ω–µ—Ç –Ω–∏ –æ–¥–Ω–æ–≥–æ —Ä–∞—Å—Ç–µ–Ω–∏—è. –í–æ–∑–¥—É—Ö –∫–æ–Ω—á–∞–µ—Ç—Å—è. –ï–¥—ã –Ω–µ—Ç. –ë—É–Ω–∫–µ—Ä—ã ‚Äî –ø–æ—Å–ª–µ–¥–Ω—è—è –Ω–∞–¥–µ–∂–¥–∞.",
  "üî• –û—Ç–∫—Ä—ã–ª–∏—Å—å –≤—Ä–∞—Ç–∞ –∞–¥–∞: –¥–µ–º–æ–Ω—ã –≤—ã—Ä–≤–∞–ª–∏—Å—å –Ω–∞ –ó–µ–º–ª—é, –∏—Å—Ç—Ä–µ–±–ª—è—è –≤—Å—ë –∂–∏–≤–æ–µ. –ú–∏—Ä —Å—Ç–∞–ª –∞—Ä–µ–Ω–æ–π –¥–ª—è –Ω–µ—á–µ–ª–æ–≤–µ—á–µ—Å–∫–æ–≥–æ —É–∂–∞—Å–∞."
]



def start_game(session: Session):
    all_users: list[User] = User.objects.filter(session=session)
    users_id = [user.id for user in all_users]

    session.set_line_of_users(users_id)
    session.state = VARIABLE_OF_STATE[1]
    session.current_user = session.get_line()[0]
    session.situation = get_random_el_from_array(SITUATIONS)
    session.save()

    give_roles(session)


